// Copyright © 2024 – 2025 Kiran Brahmatewari. All rights reserved.
//
// This work is licensed under the terms of the MIT license.
// Refer to https://opensource.org/licenses/MIT for a copy.
  
@use "variables" as vars
@use "mixins" as mix

$folder-padding: 1.5rem
$folder-dim: 6rem
$scrollbar-color-thumb: rgba(255, 255, 255, 0.35)
$scrollbar-color-track: rgba(255, 255, 255, 0.075)
$scrollbar-width: 0.75rem

:root, body
  background-attachment: fixed

html
  font-size: 60%

html, body, header, footer
  width: 100%

main
  overflow: auto
  height: 100vh
  flex: auto

:root, .folder button, .folder-button
  cursor: vars.$default-cursor

input
  cursor: vars.$text-cursor

a
  cursor: vars.$pointer-cursor

#main-content
  position: fixed
  top: vars.$menubar-height
  width: 100%
  height: calc(100% - vars.$menubar-height)

// Scrollbar for modern browsers
@supports (scrollbar-width: auto)
  html
    scrollbar-color: $scrollbar-color-thumb $scrollbar-color-track
    scrollbar-width: auto
    -ms-scrollbar-track-color: $scrollbar-color-track
    scrollbar-track-color: $scrollbar-color-track

// Scrollbar for legacy browsers
@supports selector(::-webkit-scrollbar)
  ::-webkit-scrollbar-thumb
    background: $scrollbar-color-thumb
    border-radius: vars.$border-radius

  ::-webkit-scrollbar-track
    background: $scrollbar-color-track

  ::-webkit-scrollbar
    max-width: $scrollbar-width
    max-height: $scrollbar-width

// Selection (i.e. highlight) color
::selection
  background: vars.$selection-color
  text-shadow: none

body
  font-family: vars.$font-family
  font-variation-settings: "wdth" 100
  font-optical-sizing: auto
  // font-weight: 500
  // -webkit-font-smoothing: antialiased
  // -moz-osx-font-smoothing: grayscale
  color: vars.$font-color
  background-color: vars.$background-color
  background-image: vars.$background-gradient
  background-repeat: no-repeat
  overflow: hidden
  display: flex
  flex-direction: column

canvas
  width: 100vw !important
  height: 100vh !important
  display: block

.folder
  float: right
  width: calc($folder-dim * 1.3)
  gap: $folder-padding
  padding: $folder-padding $folder-padding 0 0
  display: flex
  flex-direction: column
  align-items: flex-end
  justify-content: flex-start
  @include mix.disable-select()

  button, &-button
    background-color: transparent
    background-image: none
    border: 0
    outline: 0 none
    appearance: none

  &-button
    align-items: center

    &:active
      filter: brightness(75%)

    img
      object-fit: contain
      display: block
      width: $folder-dim
      height: $folder-dim

    .image
      border: 0.35rem solid white

    span
      font-family: vars.$font-family
      text-align: center
      overflow: hidden
      font-size: 1.24rem
      font-weight: 500
      color: vars.$menubar-font-color
      text-shadow: 0 0 0.75rem rgba(0, 0, 0, 0.25)
      @include mix.disable-select()

// BACKGROUND PARTICLES
#particles-js
  position: fixed
  width: 100vw !important
  height: 100vh !important
  background-repeat: no-repeat
  background-size: cover
  background-position: 50% 50%

.windows
  position: absolute
  z-index: 0

.divider
  color: vars.$font-color
  margin: vars.$padding vars.$padding-2x
  border-bottom: vars.$border-thickness-half solid vars.$font-color

@media screen and (max-width: vars.$width-threshold)
  html
    font-size: 55%

@media screen and (max-width: calc(vars.$width-threshold - vars.$threshold-diff))
  html
    font-size: 50%

@media screen and (max-width: calc(vars.$width-threshold - (2 * vars.$threshold-diff)))
  html
    font-size: 45%

@media screen and (max-width: calc(vars.$width-threshold - (3 * vars.$threshold-diff)))
  html
    font-size: 40%

@media screen and (max-width: calc(vars.$width-threshold - (4 * vars.$threshold-diff)))
  html
    font-size: 35%

@media screen and (max-width: calc(vars.$width-threshold - (5 * vars.$threshold-diff)))
  html
    font-size: 30%
    
@media screen and (max-width: calc(vars.$width-threshold - (6 * vars.$threshold-diff)))
  html
    font-size: 25%

@media screen and (max-width: calc(vars.$width-threshold - (7 * vars.$threshold-diff)))
  html
    font-size: 24%