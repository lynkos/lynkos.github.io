@use "variables" as vars
@use "mixins" as mix

// TODO Refactor with Notes
  
$window-width: 75rem
$window-height: 50rem
$sidebar-width: calc($window-width / 4)
$min-sidebar-width: 17.1rem
$header-height: 5rem
$num-columns: 2
$artwork-height: 250px
$icon-size: 1.5rem
$primary-background: rgba(32, 36, 31, 0.9)
$secondary-background: rgb(30, 30, 30)
$sidebar-background: rgba(32, 36, 31, 0.2)
$sidebar-title-color: rgb(147, 148, 146)

#music-app
  flex-direction: column
  align-content: stretch
  @include mix.window(rgba(42, 45, 41, 0.6), $window-width, $window-height)
  display: flex // Temp for testing

  .body
    color: white
    width: 100%
    height: 100%
    overflow-x: hidden
    display: flex

    .sidebar
      width: $sidebar-width
      min-width: $min-sidebar-width
      height: 100%
      border-right: vars.$border-thickness solid rgb(11, 11, 11)
      @include mix.disable-select()

      &-header
        position: relative
        padding: vars.$padding-2x vars.$padding-2x vars.$padding-2x vars.$padding-3x
        height: $header-height
        background: $sidebar-background
        display: flex
        align-items: center
        justify-content: space-between

        .buttons
          @include mix.buttons()

      .content
        background: $sidebar-background
        overflow: auto
        height: calc(100% - $header-height)
        padding: 0 vars.$padding-2x

        .subtitle
          font-size: 1.2rem
          padding: vars.$padding 0
          font-weight: 700
          color: $sidebar-title-color
        
        .text
          color: white
          font-size: 1.3rem
          line-height: 1.75rem
          width: 100%
          position: relative
          padding: vars.$padding 0 vars.$padding vars.$padding-3x

          i
            color: vars.$secondary-button-color

        .active
          width: 100%
          border-radius: vars.$border-radius
          background-color: rgba(255, 255, 255, 0.15)

    .main
      flex: 1
      overflow: auto

      .c-playback // &-header
        height: $header-height
        //padding: 0 vars.$padding
        width: 100%
        background: $primary-background
        display: grid // flex
        align-items: center
        justify-content: space-between
        backdrop-filter: blur(2rem)
        grid-template-columns: 0.7fr 1.1fr 1fr
        //max-width: 1500px
        border-bottom: 1px solid #e8e8e8
        
        i
          color: $sidebar-title-color
          font-size: $icon-size
          text-align: center

        &__controls
          display: inline-grid
          grid-template-columns: 1fr auto 1fr
          justify-items: center
          align-items: center
          justify-self: center
          grid-gap: vars.$padding-2x
                
          &__group
            display: grid
            grid-template-columns: 1fr 1fr 1fr
            grid-gap: vars.$padding-one-and-half

        &__lcd
          background-color: #dedede
          padding: vars.$padding 0
          border-radius: vars.$border-radius
          // overflow: hidden
          text-align: center
          display: flex
          justify-content: center
          align-items: center
                
          i
            font-size: calc($icon-size * 1.5)
            color: #8a8a8e

        &__user
          display: flex
          justify-content: center
          align-items: center
          grid-gap: vars.$padding-one-and-half
          padding: 0 vars.$padding-2x

          // &__toggle
          //   appearance: none
          //   border: 0
          //   background: transparent

        &__random, &__repeat
          opacity: 0.5

      .c-input-slider
        display: flex
        align-items: center

        input[type=range]
          width: 100% // auto
          //max-width: 10rem
          -webkit-appearance: none
          padding: 0 vars.$padding
          
          &:focus
            outline: none

            &::-webkit-slider-runnable-track
              background: #367ebd

            &::-ms-fill-lower
              background: #3071a9
            
            &::-ms-fill-upper
              background: #367ebd
            
          &::-webkit-slider-runnable-track
            width: 100%
            height: 8.4px
            cursor: pointer
            background: $sidebar-title-color
            border-radius: 1.3px
            border: 0.2px solid #010101
          
          &::-webkit-slider-thumb
            border: 1px solid $sidebar-title-color
            height: $icon-size
            width: $icon-size
            border-radius: 100%
            background: $primary-background
            cursor: pointer
            -webkit-appearance: none
            margin-top: calc($icon-size / -3.5)

          &::-moz-range-track
            width: 100%
            height: 8.4px
            cursor: pointer
            animate: 0.2s
            background: #3071a9
            border-radius: 1.3px
          
          &::-moz-range-thumb
            height: $icon-size
            width: $icon-size
            border: 1px solid $sidebar-title-color
            border-radius: 100%
            background: $primary-background
            cursor: pointer
          
          &::-ms-track
            width: 100%
            height: $icon-size
            cursor: pointer
            animate: 0.2s
            background: transparent
            border-color: transparent
            border-width: 16px 0
            color: transparent
          
          &::-ms-fill-lower
            background: #2a6495
            border-radius: 2.6px
          
          &::-ms-fill-upper
            background: #3071a9
            border-radius: 2.6px
          
          &::-ms-thumb
            border: 1px solid #000000
            height: $icon-size
            width: $icon-size
            border-radius: 100%
            background: #ffffff
            cursor: pointer

      &-body
        height: calc(100% - $header-height)
        background: $secondary-background
        width: 100%
        padding: vars.$padding vars.$padding-4x
        overflow: auto
        font-size: 1.4rem

        h1
          font-size: 2.25rem
          font-weight: 700

        img
          width: 100%

        .artworks
          display: grid
          grid-template-columns: repeat($num-columns, 1fr)
          gap: vars.$padding-2x
      
        .artwork
          border-radius: vars.$border-radius
          overflow: hidden
          position: relative
          height: $artwork-height
        
          &__bg
            height: 100%
            width: 100%
            background: var(--img) no-repeat center
            background-size: cover
        
          &__details
            position: absolute
            overflow: hidden
            width: 100%
            text-align: center
            background-color: rgba(255, 255, 255, 0.5)
            backdrop-filter: blur(1rem)
            bottom: 0
            padding: vars.$padding-4x 0
            border-radius: 0 0 vars.$border-radius vars.$border-radius
        
            &-inner
              width: 100%
              display: flex
              align-items: center
              flex-direction: column
              justify-content: center
        
          &-artist
            font-weight: 500
            letter-spacing: 0.05rem
        
          &-song
            font-weight: 300