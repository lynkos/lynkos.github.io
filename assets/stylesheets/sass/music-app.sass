@use "variables" as vars
@use "mixins" as mix

// TODO Refactor with Notes
  
$window-width: 55rem
$sidebar-width: calc($window-width / 4)
$min-sidebar-width: 17.1rem
$header-height: 5rem
$num-columns: 2
$artwork-height: 250px
$primary-background: rgba(32, 36, 31, 0.9)
$secondary-background: rgb(30, 30, 30)
$sidebar-background: rgba(32, 36, 31, 0.2)

#music-app
  flex-direction: column
  align-content: stretch
  @include mix.window(rgba(42, 45, 41, 0.6), $window-width, vars.$height)
  display: flex // Temp for testing

  .body
    color: white
    width: 100%
    height: 100%
    overflow-x: hidden
    display: flex

    .sidebar
      width: $sidebar-width
      min-width: $min-sidebar-width
      height: 100%
      border-right: vars.$border-thickness solid rgb(11, 11, 11)
      @include mix.disable-select()

      &-header
        position: relative
        padding: vars.$padding-2x vars.$padding-2x vars.$padding-2x vars.$padding-3x
        height: $header-height
        background: $sidebar-background
        display: flex
        align-items: center
        justify-content: space-between

        .buttons
          @include mix.buttons()

      .content
        background: $sidebar-background
        overflow: auto
        height: calc(100% - $header-height)
        padding: 0 vars.$padding-2x

        .subtitle
          font-size: 1.2rem
          padding: vars.$padding 0
          font-weight: 700
          color: rgb(147, 148, 146)
        
        .text
          color: white
          font-size: 1.3rem
          line-height: 1.75rem
          width: 100%
          position: relative
          padding: vars.$padding 0 vars.$padding vars.$padding-3x

          i
            color: vars.$secondary-button-color

        .active
          width: 100%
          border-radius: vars.$border-radius
          background-color: rgba(255, 255, 255, 0.15)

    .main
      flex: 1
      overflow: auto

      &-header
        height: $header-height
        padding: 0 vars.$padding-3x 0 vars.$padding-2x
        width: 100%
        background: $primary-background
        display: flex
        align-items: center
        justify-content: space-between
        backdrop-filter: blur(2rem)

      &-body
        height: calc(100% - $header-height)
        background: $secondary-background
        width: 100%
        padding: vars.$padding vars.$padding-4x
        overflow: auto
        font-size: 1.4rem

        h1
          font-size: 2.25rem
          font-weight: 700

        img
          width: 100%

        .artworks
          display: grid
          grid-template-columns: repeat($num-columns, 1fr)
          gap: vars.$padding-2x
      
        .artwork
          border-radius: vars.$border-radius
          overflow: hidden
          position: relative
          height: $artwork-height
        
          &__bg
            height: 100%
            width: 100%
            background: var(--img) no-repeat center
            background-size: cover
        
          &__details
            position: absolute
            overflow: hidden
            width: 100%
            text-align: center
            background-color: rgba(255, 255, 255, 0.5)
            backdrop-filter: blur(1rem)
            bottom: 0
            padding: vars.$padding-4x 0
            border-radius: 0 0 vars.$border-radius vars.$border-radius
        
            &-inner
              width: 100%
              display: flex
              align-items: center
              flex-direction: column
              justify-content: center
        
          &-artist
            font-weight: 500
            letter-spacing: 0.05rem
        
          &-song
            font-weight: 300